<!DOCTYPE html>
<html lang="my">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”® á€‚á€™á€¹á€˜á€®á€›á€œá€±á€¬á€€á€®á€†á€›á€¬á€‘á€°á€¸á€á€…á€ºá€…á€»á€¬á€”á€º</title>
    <link href="https://fonts.googleapis.com/css2?family=Spectral:wght@400;700&family=Inter:wght@400;600;800&family=Padauk:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- áá‹ CORE VARIABLES (NEBULA THEME) --- */
        :root {
            --color-primary: #7C4DFF; /* Lighter purple for better contrast */
            --color-secondary: #00BFA5; /* Bright Teal */
            --color-bg-deep: #050015; /* True Deep Space */
            --color-bg-glass: rgba(20, 5, 60, 0.6); /* Glass Effect */
            --color-text-main: #E0E0E0;
            --color-text-accent: #FFD700; /* Gold */
            --color-danger: #FF5252;
            --color-success: #69F0AE;
            
            --shadow-neon: 0 0 10px var(--color-primary), 0 0 20px var(--color-secondary);
            --glass-border: 1px solid rgba(255, 255, 255, 0.1);
            --backdrop-blur: blur(12px);
            
            --font-serif: 'Spectral', serif;
            --font-sans: 'Padauk', 'Inter', sans-serif;
            --radius: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: var(--font-sans); scroll-behavior: smooth; }

        body {
            background-color: var(--color-bg-deep);
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(124, 77, 255, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(0, 191, 165, 0.15) 0%, transparent 40%);
            background-attachment: fixed; /* Parallax feel */
            color: var(--color-text-main);
            overflow-x: hidden;
        }

        /* --- UTILITIES --- */
        .glass-panel {
            background: var(--color-bg-glass);
            backdrop-filter: var(--backdrop-blur);
            -webkit-backdrop-filter: var(--backdrop-blur);
            border: var(--glass-border);
            border-radius: var(--radius);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .hide { display: none !important; }
        .text-center { text-align: center; }
        
        /* --- TOAST NOTIFICATION --- */
        #toast-container {
            position: fixed; top: 20px; right: 20px; z-index: 9999;
        }
        .toast {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-left: 4px solid var(--color-secondary);
            padding: 15px 20px;
            margin-bottom: 10px;
            border-radius: 4px;
            color: #fff;
            display: flex;
            align-items: center;
            animation: slideIn 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }

        /* --- HEADER & NAV --- */
        header {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(5, 0, 21, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding: 15px 0;
        }
        .header-content { display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; text-decoration: none; gap: 10px; }
        .logo img { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--color-text-accent); }
        .logo-text { font-family: var(--font-serif); font-size: 1.5rem; color: #fff; font-weight: 700; }
        
        nav ul { list-style: none; display: flex; gap: 20px; }
        nav a { text-decoration: none; color: var(--color-text-main); font-weight: 600; transition: 0.3s; }
        nav a:hover, nav a.active { color: var(--color-text-accent); text-shadow: 0 0 8px var(--color-text-accent); }
        
        .mobile-toggle { display: none; font-size: 1.5rem; cursor: pointer; }

        /* --- HERO & SLIDER --- */
        .hero-section { margin-top: 80px; padding-bottom: 50px; text-align: center; }
        .announcement-wrapper {
            position: relative; width: 100%; max-width: 100%; height: 0; padding-bottom: 56.25%; /* 16:9 */
            overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.5); margin-bottom: 2rem;
        }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 1s ease; }
        .slide.active { opacity: 1; z-index: 1; }
        .slide img { width: 100%; height: 100%; object-fit: cover; }
        
        .hero-title h1 {
            font-family: var(--font-serif); font-size: 3rem; color: var(--color-text-accent);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5); margin-bottom: 10px;
        }

        /* --- SECTIONS GENERAL --- */
        section { padding: 60px 0; }
        .section-title {
            font-family: var(--font-serif); font-size: 2.5rem; text-align: center; margin-bottom: 40px;
            color: var(--color-secondary); text-shadow: 0 0 10px rgba(0, 191, 165, 0.4);
        }

        /* --- PRODUCTS CARD --- */
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
        .product-card {
            padding: 20px; text-align: center; transition: transform 0.3s;
            position: relative; overflow: hidden;
        }
        .product-card:hover { transform: translateY(-10px); border-color: var(--color-text-accent); }
        .product-img { width: 100%; height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: 15px; background: #1a1a2e; }
        .price-tag { color: var(--color-text-accent); font-weight: 700; font-size: 1.2rem; margin: 10px 0; }
        
        .cta-button {
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            color: white; border: none; padding: 12px 30px; border-radius: 50px;
            font-weight: 700; cursor: pointer; transition: 0.3s; text-decoration: none; display: inline-block;
        }
        .cta-button:hover { box-shadow: var(--shadow-neon); transform: scale(1.05); }

        /* --- ADMIN PANEL STYLES --- */
        #admin-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #f4f4f9; color: #333; z-index: 2000; overflow-y: auto;
            display: none; /* Hidden by default */
        }
        .admin-header { background: #fff; padding: 15px 30px; display: flex; justify-content: space-between; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .admin-container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
        .admin-card { background: #fff; border-radius: 10px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .admin-btn { padding: 8px 15px; border-radius: 5px; border: none; cursor: pointer; font-weight: 600; }
        .btn-primary { background: var(--color-primary); color: white; }
        .btn-danger { background: var(--color-danger); color: white; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 600; }
        .form-group input, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
        th { background: #f8f9fa; }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            nav { display: none; position: absolute; top: 70px; left: 0; width: 100%; background: var(--color-bg-deep); flex-direction: column; padding: 20px; text-align: center; }
            nav.active { display: flex; }
            .mobile-toggle { display: block; color: #fff; }
            .hero-title h1 { font-size: 2rem; }
        }
    </style>
</head>

<body>

    <div id="toast-container"></div>

    <div id="main-website">
        
        <header>
            <div class="container header-content">
                <a href="#" class="logo">
                    <img src="https://i.ibb.co/8LPhfcNz/Mon-25-08-2025-06-51-38.png" alt="Logo">
                    <span class="logo-text">á€‘á€°á€¸á€œá€­á€¯á€á€›</span>
                </a>
                <div class="mobile-toggle" id="mobileBtn"><i class="fas fa-bars"></i></div>
                <nav id="mainNav">
                    <ul style="margin-bottom: 0;">
                        <li><a href="#home">á€•á€„á€ºá€™</a></li>
                        <li><a href="#baydin">á€—á€±á€’á€„á€º</a></li>
                        <li><a href="#products">á€šá€á€¼á€¬á€•á€…á€¹á€…á€Šá€ºá€¸á€™á€»á€¬á€¸</a></li>
                        <li><a href="#contact">á€†á€€á€ºá€á€½á€šá€ºá€›á€”á€º</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div class="announcement-wrapper" id="home">
            <div id="slider-container"></div>
        </div>

        <div class="container hero-section">
            <div class="hero-title">
                <h1>á€‚á€™á€¹á€˜á€®á€›á€œá€±á€¬á€€á€®á€†á€›á€¬á€‘á€°á€¸á€á€…á€ºá€…á€»á€¬á€”á€º</h1>
                <p style="max-width: 600px; margin: 0 auto; color: #aaa;">á€“á€¬á€á€ºáŠ á€”á€á€ºáŠ á€á€­á€¯á€€á€ºáŠ á€‚á€™á€¹á€˜á€®á€› á€œá€±á€¬á€€á€®á€•á€Šá€¬á€›á€•á€ºá€™á€»á€¬á€¸á€–á€¼á€„á€·á€º á€á€„á€·á€ºá€€á€¶á€€á€¼á€™á€¹á€™á€¬á€€á€­á€¯ á€¡á€œá€„á€ºá€¸á€–á€½á€„á€·á€ºá€•á€±á€¸á€•á€«á€™á€Šá€ºá‹</p>
            </div>
            <div class="glass-panel" style="max-width: 400px; margin: 30px auto; padding: 20px;">
                <div style="font-size: 2.5rem; font-weight: 700; font-family: monospace; color: var(--color-text-accent);" id="clock">00:00:00</div>
                <div style="color: var(--color-secondary);" id="dateDisplay">Loading Date...</div>
            </div>
        </div>

        <section id="baydin">
            <div class="container">
                <h2 class="section-title">âœ¨ á€•á€Šá€¬á€’á€«á€” á€—á€±á€’á€„á€ºá€Ÿá€±á€¬á€á€”á€ºá€¸</h2>
                <div class="glass-panel" style="padding: 40px; text-align: center;">
                    <div id="baydin-step-1">
                        <i class="fas fa-moon fa-3x" style="color: var(--color-secondary); margin-bottom: 20px;"></i>
                        <h3 style="margin-bottom: 20px;">á€á€„á€·á€ºá€™á€½á€±á€¸á€”á€±á€·á€”á€¶á€€á€­á€¯ á€›á€½á€±á€¸á€á€»á€šá€ºá€•á€«</h3>
                        <select id="userDay" style="padding: 12px; border-radius: 8px; background: #fff; color: #333; font-size: 1rem; margin-bottom: 20px; width: 100%; max-width: 300px;">
                            <option value="0">á€á€”á€„á€ºá€¹á€‚á€”á€½á€±</option>
                            <option value="1">á€á€”á€„á€ºá€¹á€œá€¬</option>
                            <option value="2">á€¡á€„á€ºá€¹á€‚á€«</option>
                            <option value="3">á€—á€¯á€’á€¹á€“á€Ÿá€°á€¸</option>
                            <option value="4">á€€á€¼á€¬á€á€•á€á€±á€¸</option>
                            <option value="5">á€á€±á€¬á€€á€¼á€¬</option>
                            <option value="6">á€…á€”á€±</option>
                        </select>
                        <br>
                        <button onclick="calculateBaydin()" class="cta-button">á€Ÿá€±á€¬á€€á€­á€”á€ºá€¸á€–á€á€ºá€›á€”á€º</button>
                    </div>
                    <div id="baydin-result" class="hide">
                        <h3 id="result-title" style="color: var(--color-text-accent); margin-bottom: 15px;"></h3>
                        <p id="result-text" style="line-height: 1.8; font-size: 1.1rem;"></p>
                        <button onclick="resetBaydin()" class="cta-button" style="margin-top: 20px; background: transparent; border: 1px solid var(--color-primary);">á€”á€±á€¬á€€á€ºá€á€…á€ºá€€á€¼á€­á€™á€ºá€€á€¼á€Šá€·á€ºá€›á€”á€º</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="products">
            <div class="container">
                <h2 class="section-title">á€…á€½á€™á€ºá€¸á€‘á€€á€ºá€™á€¼á€€á€ºá€á€±á€¬ á€¡á€†á€±á€¬á€„á€ºá€™á€»á€¬á€¸</h2>
                <div class="product-grid" id="product-list">
                    </div>
            </div>
        </section>

        <section id="contact" style="margin-bottom: 50px;">
            <div class="container">
                <h2 class="section-title">á€†á€€á€ºá€á€½á€šá€ºá€›á€”á€º</h2>
                <div class="glass-panel" style="padding: 40px; max-width: 600px; margin: 0 auto; text-align: center;">
                    <p style="font-size: 1.2rem; margin-bottom: 20px;"><i class="fas fa-phone"></i> 09688566997</p>
                    <div style="display: flex; justify-content: center; gap: 20px; font-size: 2rem;">
                        <a href="#" style="color: #1877f2;"><i class="fab fa-facebook"></i></a>
                        <a href="#" style="color: #0088cc;"><i class="fab fa-telegram"></i></a>
                        <a href="#" style="color: #fe2c55;"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
            </div>
        </section>

        <footer style="background: #000; padding: 20px; text-align: center; border-top: 1px solid #333;">
            <p>&copy; 2025 Gawpira Lawki Sayar Htoo Thit Zyan. All rights reserved.</p>
            <p style="font-size: 0.8rem; color: #555; margin-top: 10px;">
                Designed by BossBaby 
                <span id="admin-trigger" style="cursor: pointer; padding: 0 5px;"><i class="fas fa-lock"></i></span>
            </p>
        </footer>
    </div>

    <div id="admin-panel">
        <div class="admin-header">
            <h2 style="color: var(--color-primary);"><i class="fas fa-user-shield"></i> á€†á€›á€¬á€‘á€°á€¸ Admin Control</h2>
            <button onclick="logoutAdmin()" class="admin-btn btn-danger">á€‘á€½á€€á€ºá€›á€”á€º</button>
        </div>

        <div class="admin-container">
            <div style="display: flex; gap: 20px; margin-bottom: 30px;">
                <div class="admin-card" style="flex: 1; text-align: center;">
                    <h3>á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸ á€•á€…á€¹á€…á€Šá€ºá€¸</h3>
                    <h1 id="total-products" style="color: var(--color-primary);">0</h1>
                </div>
                <div class="admin-card" style="flex: 1; text-align: center;">
                    <h3>á€á€„á€ºá€œá€¬á€á€±á€¬ Order á€™á€»á€¬á€¸</h3>
                    <h1 id="total-orders" style="color: var(--color-secondary);">0</h1>
                </div>
            </div>

            <div class="admin-card">
                <h3><i class="fas fa-box-open"></i> á€•á€…á€¹á€…á€Šá€ºá€¸á€¡á€á€…á€ºá€á€„á€ºá€›á€”á€º</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                    <div class="form-group">
                        <label>á€•á€…á€¹á€…á€Šá€ºá€¸á€¡á€™á€Šá€º</label>
                        <input type="text" id="new-prod-name" placeholder="á€¥á€•á€™á€¬ - á€œá€¬á€˜á€ºá€›á€½á€¾á€„á€ºá€šá€á€¼á€¬á€¡á€­á€á€º">
                    </div>
                    <div class="form-group">
                        <label>á€…á€»á€±á€¸á€”á€¾á€¯á€”á€ºá€¸ (á€€á€»á€•á€º)</label>
                        <input type="number" id="new-prod-price" placeholder="50000">
                    </div>
                    <div class="form-group" style="grid-column: span 2;">
                        <label>á€“á€¬á€á€ºá€•á€¯á€¶ Link (Image URL)</label>
                        <input type="text" id="new-prod-img" placeholder="https://example.com/image.jpg">
                        <small style="color: #666;">* Facebook photo link á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€¡á€á€¼á€¬á€¸ image link á€‘á€Šá€·á€ºá€•á€«á‹</small>
                    </div>
                    <div class="form-group" style="grid-column: span 2;">
                        <label>á€¡á€Šá€½á€¾á€”á€ºá€¸á€…á€¬</label>
                        <textarea id="new-prod-desc" rows="2"></textarea>
                    </div>
                </div>
                <button onclick="addProduct()" class="admin-btn btn-primary">á€•á€…á€¹á€…á€Šá€ºá€¸á€á€„á€ºá€™á€Šá€º</button>
            </div>

            <div class="admin-card">
                <h3>á€œá€€á€ºá€›á€¾á€­á€•á€…á€¹á€…á€Šá€ºá€¸á€™á€»á€¬á€¸</h3>
                <table id="admin-product-table">
                    <thead>
                        <tr>
                            <th>á€“á€¬á€á€ºá€•á€¯á€¶</th>
                            <th>á€¡á€™á€Šá€º</th>
                            <th>á€…á€»á€±á€¸á€”á€¾á€¯á€”á€ºá€¸</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
            </div>

            <div class="admin-card">
                <h3><i class="fas fa-images"></i> á€€á€¼á€±á€¬á€ºá€„á€¼á€¬ Slide á€™á€»á€¬á€¸</h3>
                <div class="form-group">
                    <label>Slide á€“á€¬á€á€ºá€•á€¯á€¶ Link á€¡á€á€…á€ºá€‘á€Šá€·á€ºá€›á€”á€º</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="new-slide-url" placeholder="Image URL á€‘á€Šá€·á€ºá€•á€«">
                        <button onclick="addSlide()" class="admin-btn btn-primary">Add</button>
                    </div>
                </div>
                <ul id="admin-slide-list" style="list-style: none; margin-top: 10px;">
                    </ul>
            </div>
        </div>
    </div>

    <script>
        // --- 1. DATABASE SIMULATION (LocalStorage) ---
        const DB_KEYS = {
            PRODUCTS: 'htoo_products',
            SLIDES: 'htoo_slides',
            ORDERS: 'htoo_orders'
        };

        // Default Data (Initial Load)
        const defaultProducts = [
            { id: 1, name: "á€œá€¬á€˜á€ºá€›á€½á€¾á€„á€º á€„á€½á€±á€á€„á€ºá€šá€á€¼á€¬á€¡á€­á€á€º", price: 50000, desc: "á€„á€½á€±á€€á€¼á€±á€¸á€€á€¶á€€á€±á€¬á€„á€ºá€¸á€…á€±á€›á€”á€º á€¡á€‘á€°á€¸á€…á€®á€™á€¶á€‘á€¬á€¸á€á€Šá€ºá‹", img: "https://cdn-icons-png.flaticon.com/512/2953/2953363.png" },
            { id: 2, name: "á€™á€±á€á€¹á€á€¬á€€á€¶ á€™á€¼á€„á€·á€ºá€á€„á€ºá€œá€€á€ºá€…á€½á€•á€º", price: 120000, desc: "á€¡á€á€»á€…á€ºá€›á€±á€¸áŠ á€¡á€­á€™á€ºá€‘á€±á€¬á€„á€ºá€›á€±á€¸ á€¡á€†á€„á€ºá€•á€¼á€±á€…á€±á€›á€”á€ºá‹", img: "https://cdn-icons-png.flaticon.com/512/7307/7307874.png" },
            { id: 3, name: "á€˜á€±á€¸á€€á€„á€ºá€¸á€á€»á€™á€ºá€¸á€á€¬ á€™á€”á€¹á€á€”á€ºá€•á€¼á€¬á€¸", price: 30000, desc: "á€á€›á€®á€¸á€á€½á€¬á€¸á€œá€¬á€™á€¾á€¯ á€˜á€±á€¸á€€á€„á€ºá€¸á€›á€”á€ºá‹", img: "https://cdn-icons-png.flaticon.com/512/3564/3564939.png" }
        ];

        const defaultSlides = [
            "https://i.ibb.co/q3CH51Y8/FB-IMG-1763796760455.jpg",
            "https://i.ibb.co/WvNC3JVR/FB-IMG-1763796731208.jpg",
            "https://i.ibb.co/sJ1Xy5SZ/FB-IMG-1763796724820.jpg"
        ];

        // Helper: Get Data
        function getData(key, defaultVal) {
            const data = localStorage.getItem(key);
            return data ? JSON.parse(data) : defaultVal;
        }

        // Helper: Save Data
        function saveData(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
            // Auto refresh UI if needed
            if(key === DB_KEYS.PRODUCTS) renderProducts();
            if(key === DB_KEYS.SLIDES) renderSlider();
        }

        // --- 2. FRONTEND LOGIC ---

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            // Load Data check
            if(!localStorage.getItem(DB_KEYS.PRODUCTS)) saveData(DB_KEYS.PRODUCTS, defaultProducts);
            if(!localStorage.getItem(DB_KEYS.SLIDES)) saveData(DB_KEYS.SLIDES, defaultSlides);

            renderSlider();
            renderProducts();
            startClock();
            
            // Mobile Menu
            document.getElementById('mobileBtn').addEventListener('click', () => {
                document.getElementById('mainNav').classList.toggle('active');
            });

            // Secret Admin Access
            document.getElementById('admin-trigger').addEventListener('dblclick', () => {
                const pass = prompt("á€†á€›á€¬á€€á€¼á€®á€¸áŠ á€…á€€á€¬á€¸á€á€¾á€€á€ºá€•á€¼á€±á€¬á€•á€«:");
                if(pass === "1234") { // Simple password
                    document.getElementById('main-website').classList.add('hide');
                    document.getElementById('admin-panel').style.display = 'block';
                    loadAdminData();
                    showToast("Admin Mode Activated! ğŸ› ï¸");
                } else {
                    showToast("á€…á€€á€¬á€¸á€á€¾á€€á€º á€™á€¾á€¬á€¸á€šá€½á€„á€ºá€¸á€”á€±á€á€Šá€º!", "error");
                }
            });
        });

        // Toast Notification
        function showToast(msg, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.style.borderLeftColor = type === 'error' ? '#FF5252' : '#69F0AE';
            toast.innerHTML = `<i class="fas ${type === 'error' ? 'fa-exclamation-circle' : 'fa-check-circle'}" style="margin-right:10px"></i> ${msg}`;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Render Slider
        function renderSlider() {
            const slides = getData(DB_KEYS.SLIDES, defaultSlides);
            const container = document.getElementById('slider-container');
            container.innerHTML = '';
            
            slides.forEach((url, index) => {
                const div = document.createElement('div');
                div.className = `slide ${index === 0 ? 'active' : ''}`;
                div.innerHTML = `<img src="${url}" alt="Slide">`;
                container.appendChild(div);
            });

            // Reset Interval
            if(window.sliderInterval) clearInterval(window.sliderInterval);
            let current = 0;
            const domSlides = document.querySelectorAll('.slide');
            if(domSlides.length > 1) {
                window.sliderInterval = setInterval(() => {
                    domSlides[current].classList.remove('active');
                    current = (current + 1) % domSlides.length;
                    domSlides[current].classList.add('active');
                }, 3500);
            }
        }

        // Render Products
        function renderProducts() {
            const products = getData(DB_KEYS.PRODUCTS, defaultProducts);
            const list = document.getElementById('product-list');
            list.innerHTML = '';
            products.forEach(p => {
                list.innerHTML += `
                    <div class="glass-panel product-card">
                        <img src="${p.img}" class="product-img" alt="${p.name}" onerror="this.src='https://via.placeholder.com/300?text=No+Image'">
                        <h3 style="color:var(--color-text-main)">${p.name}</h3>
                        <div class="price-tag">${Number(p.price).toLocaleString()} Ks</div>
                        <p style="font-size:0.9rem; color:#bbb; margin-bottom:15px;">${p.desc}</p>
                        <button onclick="orderProduct('${p.name}')" class="cta-button">á€á€šá€ºá€šá€°á€›á€”á€º</button>
                    </div>
                `;
            });
        }

        // Order Logic (Simulated)
        function orderProduct(name) {
            const confirmOrder = confirm(`"${name}" á€€á€­á€¯ á€á€šá€ºá€šá€°á€™á€¾á€¬á€á€±á€á€»á€¬á€•á€«á€á€œá€¬á€¸?`);
            if(confirmOrder) {
                // Save to fake DB
                let orders = getData(DB_KEYS.ORDERS, []);
                orders.push({ item: name, date: new Date().toLocaleString(), status: 'New' });
                saveData(DB_KEYS.ORDERS, orders);
                showToast("á€¡á€±á€¬á€ºá€’á€«á€á€„á€ºá€á€¼á€„á€ºá€¸ á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€•á€«á€á€Šá€ºá‹ á€†á€›á€¬á€·á€‘á€¶ á€†á€€á€ºá€á€½á€šá€ºá€œá€­á€¯á€€á€ºá€•á€«á‹");
                // In real life, redirect to messenger
                // window.open('https://m.me/yourpage', '_blank');
            }
        }

        // Baydin Logic
        function calculateBaydin() {
            const day = document.getElementById('userDay').value;
            const predictions = [
                "á€á€”á€„á€ºá€¹á€‚á€”á€½á€± - á€šá€”á€±á€·á€á€Šá€º á€™á€­á€á€ºá€†á€½á€±á€€á€±á€¬á€„á€ºá€¸á€™á€»á€¬á€¸á á€¡á€€á€°á€¡á€Šá€®á€›á€™á€Šá€ºá‹ á€œá€¯á€•á€ºá€„á€”á€ºá€¸á€á€½á€„á€ºá€á€½á€„á€º á€™á€»á€€á€ºá€”á€¾á€¬á€•á€½á€„á€·á€ºá€œá€”á€ºá€¸á€™á€Šá€ºá‹",
                "á€á€”á€„á€ºá€¹á€œá€¬ - á€„á€½á€±á€€á€¼á€±á€¸á€€á€­á€…á€¹á€… á€¡á€‘á€°á€¸á€á€á€­á€•á€¼á€¯á€•á€«á‹ á€…á€€á€¬á€¸á€¡á€•á€¼á€±á€¬á€¡á€†á€­á€¯ á€†á€„á€ºá€á€¼á€„á€ºá€œá€»á€¾á€„á€º á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€™á€Šá€ºá‹",
                "á€¡á€„á€ºá€¹á€‚á€« - á€á€›á€®á€¸á€á€±á€¸ á€á€½á€¬á€¸á€›á€€á€­á€”á€ºá€¸á€›á€¾á€­á€á€Šá€ºá‹ á€€á€»á€”á€ºá€¸á€™á€¬á€›á€±á€¸ á€¡á€”á€Šá€ºá€¸á€„á€šá€º á€‚á€›á€¯á€…á€­á€¯á€€á€ºá€•á€«á‹",
                "á€—á€¯á€’á€¹á€“á€Ÿá€°á€¸ - á€•á€Šá€¬á€›á€±á€¸áŠ á€á€„á€ºá€á€”á€ºá€¸á€€á€­á€…á€¹á€…á€™á€»á€¬á€¸ á€¡á€†á€„á€ºá€•á€¼á€±á€™á€Šá€ºá‹ á€¡á€á€»á€…á€ºá€›á€±á€¸ á€€á€¶á€€á€±á€¬á€„á€ºá€¸á€™á€Šá€ºá‹",
                "á€€á€¼á€¬á€á€•á€á€±á€¸ - á€œá€°á€€á€¼á€®á€¸á€á€°á€™ á€™á€±á€á€¹á€á€¬á€›á€™á€Šá€ºá‹ á€‘á€®á€€á€¶ á€…á€™á€ºá€¸á€á€„á€·á€ºá€á€±á€¬ á€”á€±á€·á€–á€¼á€…á€ºá€á€Šá€ºá‹",
                "á€á€±á€¬á€€á€¼á€¬ - á€¡á€œá€¯á€•á€ºá€¡á€€á€­á€¯á€„á€º á€¡á€á€½á€„á€·á€ºá€¡á€œá€™á€ºá€¸á€á€…á€ºá€™á€»á€¬á€¸ á€•á€±á€«á€ºá€œá€¬á€™á€Šá€ºá‹ á€…á€­á€á€ºá€á€»á€™á€ºá€¸á€á€¬á€›á€™á€Šá€ºá‹",
                "á€…á€”á€± - á€¡á€­á€™á€ºá€á€½á€„á€ºá€¸á€›á€±á€¸ á€¡á€”á€Šá€ºá€¸á€„á€šá€º á€›á€¾á€¯á€•á€ºá€‘á€½á€±á€¸á€”á€­á€¯á€„á€ºá€á€±á€¬á€ºá€œá€Šá€ºá€¸ á€Šá€”á€±á€•á€­á€¯á€„á€ºá€¸á€á€½á€„á€º á€•á€¼á€±á€œá€Šá€ºá€™á€Šá€ºá‹"
            ];
            
            document.getElementById('baydin-step-1').classList.add('hide');
            const resBox = document.getElementById('baydin-result');
            resBox.classList.remove('hide');
            
            document.getElementById('result-title').innerText = "á€†á€›á€¬á€‘á€°á€¸á á€Ÿá€±á€¬á€€á€­á€”á€ºá€¸";
            document.getElementById('result-text').innerText = predictions[day];
        }

        function resetBaydin() {
            document.getElementById('baydin-result').classList.add('hide');
            document.getElementById('baydin-step-1').classList.remove('hide');
        }

        // Clock
        function startClock() {
            const update = () => {
                const now = new Date();
                document.getElementById('clock').innerText = now.toLocaleTimeString('en-US', {hour12: false});
                document.getElementById('dateDisplay').innerText = now.toLocaleDateString('my-MM', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            };
            setInterval(update, 1000);
            update();
        }

        // --- 3. ADMIN PANEL LOGIC ---

        function loadAdminData() {
            const products = getData(DB_KEYS.PRODUCTS, defaultProducts);
            const orders = getData(DB_KEYS.ORDERS, []);
            const slides = getData(DB_KEYS.SLIDES, defaultSlides);

            document.getElementById('total-products').innerText = products.length;
            document.getElementById('total-orders').innerText = orders.length;

            // Render Admin Product Table
            const tbody = document.querySelector('#admin-product-table tbody');
            tbody.innerHTML = '';
            products.forEach((p, index) => {
                tbody.innerHTML += `
                    <tr>
                        <td><img src="${p.img}" width="40" height="40" style="object-fit:cover; border-radius:4px;"></td>
                        <td>${p.name}</td>
                        <td>${p.price}</td>
                        <td><button onclick="deleteProduct(${index})" class="admin-btn btn-danger">Delete</button></td>
                    </tr>
                `;
            });

            // Render Slides List
            const slideList = document.getElementById('admin-slide-list');
            slideList.innerHTML = '';
            slides.forEach((url, index) => {
                slideList.innerHTML += `
                    <li style="margin-bottom:5px; display:flex; justify-content:space-between; background:#eee; padding:5px;">
                        <span style="font-size:0.8rem; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width:200px;">${url}</span>
                        <button onclick="deleteSlide(${index})" style="color:red; border:none; cursor:pointer;">&times;</button>
                    </li>
                `;
            });
        }

        function addProduct() {
            const name = document.getElementById('new-prod-name').value;
            const price = document.getElementById('new-prod-price').value;
            const img = document.getElementById('new-prod-img').value;
            const desc = document.getElementById('new-prod-desc').value;

            if(!name || !price) return showToast("á€¡á€á€»á€€á€ºá€¡á€œá€€á€ºá€™á€•á€¼á€Šá€·á€ºá€…á€¯á€¶á€•á€«", "error");

            const products = getData(DB_KEYS.PRODUCTS, defaultProducts);
            products.push({
                id: Date.now(),
                name, price, img: img || "https://via.placeholder.com/150", desc
            });
            saveData(DB_KEYS.PRODUCTS, products);
            
            // Clear form
            document.getElementById('new-prod-name').value = '';
            document.getElementById('new-prod-price').value = '';
            
            showToast("á€•á€…á€¹á€…á€Šá€ºá€¸á€¡á€á€…á€º á€‘á€Šá€·á€ºá€á€½á€„á€ºá€¸á€•á€¼á€®á€¸á€•á€«á€•á€¼á€®");
            loadAdminData(); // Refresh Admin UI
        }

        function deleteProduct(index) {
            if(confirm("á€–á€»á€€á€ºá€™á€¾á€¬á€á€±á€á€»á€¬á€œá€¬á€¸?")) {
                const products = getData(DB_KEYS.PRODUCTS, defaultProducts);
                products.splice(index, 1);
                saveData(DB_KEYS.PRODUCTS, products);
                loadAdminData();
                showToast("á€•á€…á€¹á€…á€Šá€ºá€¸á€€á€­á€¯ á€–á€»á€€á€ºá€œá€­á€¯á€€á€ºá€•á€«á€•á€¼á€®");
            }
        }

        function addSlide() {
            const url = document.getElementById('new-slide-url').value;
            if(!url) return;
            const slides = getData(DB_KEYS.SLIDES, defaultSlides);
            slides.push(url);
            saveData(DB_KEYS.SLIDES, slides);
            document.getElementById('new-slide-url').value = '';
            loadAdminData();
            showToast("Slide á€¡á€á€…á€ºá€‘á€Šá€·á€ºá€•á€¼á€®á€¸á€•á€«á€•á€¼á€®");
        }

        function deleteSlide(index) {
            const slides = getData(DB_KEYS.SLIDES, defaultSlides);
            slides.splice(index, 1);
            saveData(DB_KEYS.SLIDES, slides);
            loadAdminData();
        }

        function logoutAdmin() {
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('main-website').classList.remove('hide');
            // Force reload content on frontend
            renderProducts();
            renderSlider();
        }
    </script>
</body>
</html>
